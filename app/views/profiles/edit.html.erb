<div class="min-h-screen w-full flex flex-col items-center justify-center bg-gray-100 px-6">
  <h1 class="text-7xl text-orange-600 mb-6">KarAir</h1>

  <div class="w-full max-w-md bg-white rounded-xl shadow-md p-8">
    <h2 class="text-2xl text-gray-800 mb-6 text-center">
      Edit Profile
    </h2>

    <%# Flash messages %>
    <% if flash[:alert].present? %>
      <div class="flash-message bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4">
        <p><%= flash[:alert] %></p>
      </div>
    <% end %>
    <% if @profile.errors.any? %>
      <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4">
        <ul class="list-disc list-inside">
          <% @profile.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <%= form_with(model: @profile, html: { multipart: true, class: "space-y-5" }) do |f| %>

      <%# Fields %>
      <%= render "form_fields", f: f %>

      <div class="mt-6">
        <%= f.submit "Update Profile",
          class: "w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition duration-200" %>
      </div>
    <% end %>

    <div class="text-center mt-4">
      <% if current_user.profile_completed %>
        <%= link_to "Back", root_path, class: "text-blue-600 hover:underline text-sm" %>
      <% else %>
        <%= link_to "Back", edit_profile_path(@profile.user.id), class: "bg-gray-500 bg-gray-700 text-white py-2 px-4 rounded mt-4 inline-block" %>
      <% end %>
    </div>
  </div>
</div>
